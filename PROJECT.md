# ClipStash ‚Äî Project Overview

## –ò–¥–µ—è

**ClipStash** ‚Äî –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π macOS clipboard manager –¥–ª—è menu bar —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å –∏ —ç–∫—Å–ø–æ—Ä—Ç –≤ NotebookLM.

### –ü–æ—á–µ–º—É –Ω–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ä–µ—à–µ–Ω–∏—è?

| –ü—Ä–æ–±–ª–µ–º–∞ | –ù–∞—à –ø–æ–¥—Ö–æ–¥ |
|----------|------------|
| Maccy —Ö—Ä–∞–Ω–∏—Ç –≤—Å—ë –≤ –ø–∞–º—è—Ç–∏ | SQLite + paging, < 60 MB RAM |
| Paste —Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥–ø–∏—Å–∫—É | Open source, MIT |
| CopyQ ‚Äî Electron, —Ç—è–∂—ë–ª—ã–π | Native Swift/SwiftUI |
| –ù–µ—Ç —ç–∫—Å–ø–æ—Ä—Ç–∞ –¥–ª—è AI-–∞–Ω–∞–ª–∏–∑–∞ | NotebookLM-friendly Markdown |

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

1. **Privacy-first** ‚Äî –Ω–∏–∫–∞–∫–æ–π —Å–µ—Ç–∏, –Ω–∏–∫–∞–∫–æ–π —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏
2. **Lightweight** ‚Äî < 0.5% CPU idle, < 60 MB RAM
3. **Keyboard-first** ‚Äî –±—ã—Å—Ç—Ä–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –±–µ–∑ –º—ã—à–∏
4. **Export-friendly** ‚Äî –≥–æ—Ç–æ–≤–æ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤ NotebookLM

---

## –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å (v1.0-dev)

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|--------|----------|
| Menu bar app | ‚úÖ | MenuBarExtra + Popover |
| SQLite storage | ‚úÖ | FTS5 –ø–æ–∏—Å–∫ + fallback –Ω–∞ LIKE |
| Clipboard monitor | ‚úÖ | Polling 300ms + debounce |
| Privacy filters | ‚úÖ | ConcealedType, TransientType, ignore list |
| Deduplication | ‚úÖ | SHA256 hash |
| Export | ‚úÖ | Markdown/TXT + auto-split |
| Settings | ‚úÖ | Limits, dedup, byte-preserve |
| GitHub Actions | ‚úÖ | CI build + tests |

### üîß –ì–æ—Ç–æ–≤–æ –∫ —Å–±–æ—Ä–∫–µ

```
/Users/nick/myprojects/ClipStash/
‚îú‚îÄ‚îÄ ClipStash.xcodeproj     # Xcode 15+, macOS 13+
‚îú‚îÄ‚îÄ ClipStash/              # Swift sources
‚îú‚îÄ‚îÄ README.md
‚îî‚îÄ‚îÄ LICENSE (MIT)
```

---

## Roadmap

### v1.0 (—Ç–µ–∫—É—â–∏–π —Ä–µ–ª–∏–∑)

- [x] –ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∑–∞—Ö–≤–∞—Ç–∞ clipboard
- [x] SQLite —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å FTS5
- [x] –≠–∫—Å–ø–æ—Ä—Ç –≤ Markdown
- [x] Menu bar UI
- [ ] **TODO**: Unit tests
- [ ] **TODO**: App icon

### v1.1 (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

- [ ] Global hotkey (‚åò‚áßV) –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è popover
- [ ] Quick paste: –≤—Å—Ç–∞–≤–∫–∞ –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ (+ Accessibility permission)
- [ ] –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É (—Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç / —Ç–æ–ª—å–∫–æ –∫–∞—Ä—Ç–∏–Ω–∫–∏)
- [ ] –¢—ë–º–Ω–∞—è/—Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞

### v1.2 (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

- [ ] AES.GCM —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è pinned items
- [ ] –ö–ª—é—á –≤ Keychain
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (multi-select)
- [ ] PDF —ç–∫—Å–ø–æ—Ä—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### v2.0 (–≤–æ–∑–º–æ–∂–Ω–æ)

- [ ] iCloud sync (opt-in)
- [ ] iOS companion app
- [ ] Rich text preview
- [ ] Snippets/templates

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                ClipStash.app                ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  App Layer                                  ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ ClipStashApp.swift    (@main)         ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ AppDelegate.swift     (lifecycle)     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Core Layer                                 ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ ClipboardMonitor      (polling)       ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ StorageManager        (SQLite actor)  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ ExportService         (files)         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  UI Layer (SwiftUI)                         ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ PopoverView           (main list)     ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ SettingsView          (preferences)   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ ExportSheet           (export UI)     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Storage                                    ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ ~/Library/Application Support/        ‚îÇ
‚îÇ      ‚îî‚îÄ‚îÄ ClipStash/                         ‚îÇ
‚îÇ          ‚îú‚îÄ‚îÄ clipstash.db  (SQLite)        ‚îÇ
‚îÇ          ‚îî‚îÄ‚îÄ images/       (PNG/TIFF)      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è |
|-----------|------------|
| –Ø–∑—ã–∫ | Swift 5.9+ |
| UI | SwiftUI + AppKit (NSStatusBar) |
| Storage | SQLite3.framework + FTS5 |
| Concurrency | Swift actors |
| Platform | macOS 13+ (Ventura) |

---

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è V1

- **–ù–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏** –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
- **–ù–µ—Ç CLI/API** ‚Äî —Ç–æ–ª—å–∫–æ GUI
- **–ù–µ—Ç OCR** –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **–ù–µ—Ç AI-—Ñ—É–Ω–∫—Ü–∏–π** ‚Äî —Ç–æ–ª—å–∫–æ —ç–∫—Å–ø–æ—Ä—Ç –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö AI

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

- **License**: MIT
- **Repo**: `/Users/nick/myprojects/ClipStash`
